<!DOCTYPE html>
<!-- http://www.mapbox.com/mapbox.js/example/v1.0.0/layers-control/ -->
<html>
<head>
    <script src='http://api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.js'></script>
    <link href='http://api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.css' rel='stylesheet' />
    <!--[if lte IE 8]>
    <link href='http://api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.ie.css' rel='stylesheet' >
    <![endif]-->
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
        #overlay {
          position:absolute;
          right:0;
          left:0;
          padding-left: 60px;
          padding-right: 60px;
          background-color: rgba(255,255,255,0.9);
          font-family: Arial,sans-serif;
        }
    </style>
</head>
<body>
<div id='map'></div>
<div id='overlay'>
<h1>OpenStreetMap: Every Line Ever, Every Point Ever</h1>
<p>By <a href="http://mappingmashups.net">Alan McConchie</a> and <a href="http://stamen.com">Stamen Design</a>. Data from <a href="http://openstreetmap.org">OpenStreetMap</a> CC-BY-SA.
<p>Submitted to the Global Urban Humanities Initiative, UC Berkeley, <a href="http://globalurbanhumanities.berkeley.edu/events/mapping-and-its-discontents">Mapping and Its Discontents Symposium</a>, November 2013.</p>
<p>
My submission consists of two interactive maps generated from OpenStreetMap (OSM) data. OSM is a crowdsourced map of the world, edited collaboratively by hundreds of thousands of volunteers since its founding in 2004. Because the data for OSM is completely open source, it is possible to download the entire database of raw geospatial data, including every previous version of every feature on the map. The maps use data from November 2005 to June 2012. The data is <a href="http://www.openstreetmap.org/copyright">&copy; OpenStreetMap contributors</a>, licensed <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> (not <a href="http://opendatacommons.org/licenses/odbl/">ODbL</a>, because the data was accessed before OSM's license change in late 2012).

</p>
<p>
My maps use the OSM history data to visualize how OSM's data has grown and filled-in over time. The maps are completely computer-generated and derived solely from data in the OSM history extracts, but using a style that is consciously impressionistic, evoking the sense of a drawing being worked and re-worked over time. Due to the volume of the data involved, these maps only show a limited area around San Francisco, although in principle they could be produced on a global scale.</p>
<p>
The first map, "Every Line Ever", starts from a simple premise: draw every version of every linear feature present in the OpenStreetMap historical data, even if those features have been subsequently deleted. Each line is drawn at 1% opacity, such that areas where multiple linear features are present or where multiple versions of a single feature exist, the lines drawn on the screen will accumulate to produce a darker and darker mark. The result produces a map that is strikingly familiar and readable: freeways appear more prominent than city streets, which are in turn darker and more visible than alleyways. However this hierarchy is not derived from any attributes associated with those features; rather, the hierarchy emerges naturally through the cumulative traces of OSM contributors modifying and refining the map. Inevitably, the features that are important to more people are edited more often, thereby becoming darker traces on this map. On further inspection, it is possible to see how the ghostly initial sketches of some features gradually coalesce into thicker, sharper lines as the collective effort of OSM volunteers settles around a consensus. 
</p>
<p>
The second map, "Every Point Ever", follows a similar approach, but using the point features from the OSM history database. Similarly, every version of every point is drawn on the map at 1% opacity, but in this map the points are also scaled according to their version number. Thus, a point that has been edited a dozen or even a hundred times will be drawn again and again on the map, represented as an increasingly larger circle. Thus, points that are continually modified in the OSM database will appear to "bleed" onto the page in this map. Where the first map evokes the spidery traces of pencil drawing, this map appears more like a collection of inkblots. Both maps use these metaphors of hand-drawn illustration to reveal the historical traces of effort that normally go unseen when looking at a finished map. 
</p>
<p>
These maps are derived from my in-progress dissertation research at the University of British Columbia, where I am studying the social dynamics of the OpenStreetMap community over time. Starting in July 2013, I have also been employed at Stamen Design in San Francisco, a data visualization and cartography studio that uses OpenStreetMap data as the foundation for most of our maps.
</p>
</div>
<script type='text/javascript'>
    // Based on the Leaflet example from http://leafletjs.com/examples/choropleth.html

    var every_line = L.mapbox.tileLayer('stamen.every-line-ever-bayarea');
    var every_point = L.mapbox.tileLayer('stamen.every-point-ever-bayarea');

    var map = L.map('map').setView([37.8, -122.35], 12);
    L.control.layers({
        'Every Line Ever': every_line.addTo(map),
        'Every Point Ever': every_point
    },{ },{
        collapsed: false
    }).addTo(map);

    function add_line() {
        map.removeLayer(every_point);
        map.addLayer(every_line);
    };

    function add_point() {
        map.removeLayer(every_line);
        map.addLayer(every_point);
    };
</script>
</body>
</html>